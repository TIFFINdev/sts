<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DS/Algo MCQ Practice</title>
    <style>
        :root {
            --primary-color: #000000;
            --secondary-color: #000000;
            --accent-color: #ae00ff;
            --success-color: #2ecc71;
            --error-color: #e74c3c;
            --background-color: #000000;
            --card-color: #ffffff5c;
            --text-color: #ffffff;
            --border-radius: 8px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .containe {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: linear-gradient(135deg, #ffffff00, #ffffff00);
            color: white;
            padding: 20px 0;
            /* box-shadow: var(--shadow); */
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
        }

        .home-link {
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
        }

        .home-link svg {
            margin-right: 8px;
        }

        main {
            padding: 40px 0;
        }

        .card {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-title {
            font-size: 24px;
            margin-bottom: 15px;
            color: var(--secondary-color);
        }

        .card-description {
            margin-bottom: 20px;
            color: #6c757d;
        }

        .options-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .btn:focus {
            outline: none;
        }

        .btn-block {
            display: block;
            width: 100%;
        }

        .question-card {
            display: flex;
            flex-direction: column;
        }

        .question-number {
            font-size: 20px;
            font-weight: bold;

            color: var(--background-color);
            margin-bottom: 5px;
        }

        .question-text {
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }

        .option {
            background-color: #f1f3f546;
            border: 1px solid #dee2e6;
            border-radius: var(--border-radius);
            padding: 12px 15px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .option:hover {
            background-color: #e9ecef6d;
        }

        .option.selected {
            background-color: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        .option.correct {
            background-color: var(--success-color);
            color: white;
            border-color: var(--success-color);
        }

        .option.incorrect {
            background-color: var(--error-color);
            color: white;
            border-color: var(--error-color);
        }

        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: var(--border-radius);
            opacity: 0;
            transition: opacity 0.3s ease;
            font-size: 16px;
            font-weight: 500;
        }

        .feedback.visible {
            opacity: 1;
        }

        .feedback.correct {
            background-color: rgba(255, 255, 255, 0.39);
            color: var(--success-color);
        }

        .feedback.incorrect {
            background-color: rgba(255, 255, 255, 0.345);
            color: var(--error-color);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: #e9ecef;
            border-radius: 3px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--primary-color);
            transition: width 0.3s ease;
        }

        .results {
            text-align: center;
            padding: 20px;
        }

        .score {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .score-details {
            margin-bottom: 20px;
        }

        .practice-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }

        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--primary-color);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }

            .card {
                padding: 20px;
            }

            .question-text {
                font-size: 16px;
            }
        }



        /* From Uiverse.io by SelfMadeSystem */
        /*
More comprehensive version at shenanigans.shoghisimon.ca/collection/css-blur-blob-bg/
 */

        .container::after {
            content: "";
            position: absolute;
            inset: 0;
            z-index: -1;
            /* backdrop-filter: hue-rotate(90deg); */
            /* mask: linear-gradient(45deg, #0000, #000); */
            /* animation: rotaty 5s linear infinite; */
            transform-origin: center;
        }

        .container {
            position: absolute;
            /* background-image: radial-gradient(circle at 50% 50%,
                    #0000 0,
                    #0000 2px,
                    hsl(0 0 4%) 2px); */
            background-size: 8px 8px;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        @keyframes thingy {
            0% {
                filter: var(--f) hue-rotate(0deg);
            }

            to {
                filter: var(--f) hue-rotate(1turn);
            }
        }

        .container::before {
            content: "";
            position: absolute;
            inset: -8em;
            z-index: -1;
            --f: blur(7em) brightness(5);
            --c: #09f;
            animation:
                thingy 5s linear infinite;
            background-color: #000000;
            background-image: radial-gradient(ellipse 66px 50px at 50% 50%,
                    #0f0 0%,
                    transparent 100%),
                radial-gradient(ellipse 77px 60px at 50% 50%, rgb(229, 255, 0) 0%, transparent 100%),
                radial-gradient(ellipse 78px 100px at 50% 50%, rgb(85, 255, 0) 0%, transparent 100%),
                radial-gradient(ellipse 73px 96px at 50% 50%, rgb(0, 255, 115) 0%, transparent 100%),
                radial-gradient(ellipse 76px 77px at 50% 50%, rgb(0, 255, 162) 0%, transparent 100%),
                radial-gradient(ellipse 66px 51px at 50% 50%, #0f0 0%, transparent 100%),
                radial-gradient(ellipse 90px 57px at 50% 50%, rgb(0, 255, 255) 0%, transparent 100%),
                radial-gradient(ellipse 89px 93px at 50% 50%, rgb(0, 191, 255) 0%, transparent 100%);
            background-size:
                726px 576px,
                1242px 454px,
                876px 1160px,
                691px 873px,    
                914px 550px,
                1159px 340px,
                1017px 831px,
                313px 977px;
        }

        @keyframes blobs-1e28bd3d {
            0% {
                background-position:
                    271px 478px,
                    62px 291px,
                    67px 861px,
                    553px 413px,
                    36px 392px,
                    1077px 226px,
                    400px 799px,
                    7px 264px;
            }

            to {
                background-position:
                    -14975px -2978px,
                    31112px 11187px,
                    -20081px 8981px,
                    11609px -3952px,
                    -12760px 12492px,
                    -9354px 2946px,
                    9553px 21574px,
                    946px 9057px;
            }
        }
    </style>
</head>

<body>
    <div class="container"></div>
    <header>
        <div class="containe header-content" style="position: relative; z-index: 100;">
            <div class="logo"><img src="logo.png" alt="logo" width="55px"></div>
            <a href="#" class="home-link" id="homeButton">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" viewBox="0 0 16 16">
                    <path
                        d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5Z" />
                    <path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6Z" />
                </svg>
                <span style="font-size: 23px;">Home</span>
            </a>
        </div>
    </header>

    <main style=" position: relative;z-index: 100; width: 100%;">
        <div class="containe" id="mainContent">
            <!-- Home View -->
            <div id="homeView">
                <h1 style="text-align: center; margin-bottom: 30px;">Advanced Competitive Coding Practice</h1>
                <div class="options-container">
                    <div class="card">
                        <h2 class="card-title">Mock MCQ Exam</h2>
                        <p class="card-description" style="color: white;">Take a timed mock exam with 30 random
                            questions to test your
                            knowledge.</p>
                        <button class="btn btn-block" id="startMockExam">Start Mock Exam</button>
                    </div>
                    <div class="card">
                        <h2 class="card-title">Practice All Questions</h2>
                        <p class="card-description" style="color: white;">Go through all questions at your own pace with
                            instant feedback.</p>
                        <button class="btn btn-block" id="startPractice">Start Practice</button>
                    </div>
                </div>
            </div>

            <!-- Mock Exam View -->
            <div id="mockExamView" style="display: none;">
                <div class="progress-bar">
                    <div class="progress" id="mockProgress"></div>
                </div>
                <div class="card question-card">
                    <div class="question-number" id="mockQuestionNumber">Question 1/30</div>
                    <div class="question-text" id="mockQuestionText"></div>
                    <div class="options" id="mockOptions"></div>
                    <div class="feedback" id="mockFeedback"></div>
                    <div class="navigation">
                        <button class="btn" id="mockNextButton" style="margin-left: auto;">Next Question</button>
                    </div>
                </div>
            </div>

            <!-- Practice View -->
            <div id="practiceView" style="display: none;">
                <div class="card question-card">
                    <div class="question-number" id="practiceQuestionNumber">Question 1</div>
                    <div class="question-text" id="practiceQuestionText"></div>
                    <div class="options" id="practiceOptions"></div>
                    <div class="feedback" id="practiceFeedback"></div>
                    <div class="practice-controls">
                        <button class="btn" id="practicePrevButton" disabled>Previous</button>
                        <button class="btn" id="practiceNextButton">Next</button>
                    </div>
                </div>
            </div>

            <!-- Results View -->
            <div id="resultsView" style="display: none;">
                <div class="card">
                    <div class="results">
                        <h2 class="card-title">Mock Exam Results</h2>
                        <div class="score" id="scoreDisplay"></div>
                        <div class="score-details" id="scoreDetails"></div>
                        <button class="btn" id="retryButton">Try Again</button>
                        <button class="btn" id="homeFromResultsButton" style="margin-left: 10px;">Back to Home</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer style="color: white; position: absolute; bottom: 10px; width: 100%; text-align: center; min-height: 100px; padding-top: 90%;">
        Made by Ayushman Tomar
    </footer>

    <script>
        // Store all questions 
        let allQuestions = [];
        let mockQuestions = [];
        let currentMockQuestion = 0;
        let currentPracticeQuestion = 0;
        let mockAnswers = [];
        let mockCorrectAnswers = 0;

        // DOM Elements
        const homeView = document.getElementById('homeView');
        const mockExamView = document.getElementById('mockExamView');
        const practiceView = document.getElementById('practiceView');
        const resultsView = document.getElementById('resultsView');

        // Buttons
        const startMockExamButton = document.getElementById('startMockExam');
        const startPracticeButton = document.getElementById('startPractice');
        const mockNextButton = document.getElementById('mockNextButton');
        const practicePrevButton = document.getElementById('practicePrevButton');
        const practiceNextButton = document.getElementById('practiceNextButton');
        const retryButton = document.getElementById('retryButton');
        const homeButton = document.getElementById('homeButton');
        const homeFromResultsButton = document.getElementById('homeFromResultsButton');

        // Mock Elements
        const mockQuestionNumber = document.getElementById('mockQuestionNumber');
        const mockQuestionText = document.getElementById('mockQuestionText');
        const mockOptions = document.getElementById('mockOptions');
        const mockFeedback = document.getElementById('mockFeedback');
        const mockProgress = document.getElementById('mockProgress');

        // Practice Elements
        const practiceQuestionNumber = document.getElementById('practiceQuestionNumber');
        const practiceQuestionText = document.getElementById('practiceQuestionText');
        const practiceOptions = document.getElementById('practiceOptions');
        const practiceFeedback = document.getElementById('practiceFeedback');

        // Results Elements
        const scoreDisplay = document.getElementById('scoreDisplay');
        const scoreDetails = document.getElementById('scoreDetails');

        async function loadQuestions() {
            try {
                // Show loading indicator
                const loadingDiv = document.createElement('div');
                loadingDiv.className = 'loading';
                loadingDiv.innerHTML = '<div class="loading-spinner"></div><p style="margin-left: 15px;">Loading questions...</p>';
                document.getElementById('mainContent').prepend(loadingDiv);

                // Fetch questions from JSON file
                const response = await fetch('q.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                const data = await response.json();
                if (!data || !Array.isArray(data) || data.length === 0) {
                    throw new Error('Invalid or empty question data');
                }

                console.log('Questions loaded:', data.length);
                allQuestions = data;

                // Remove loading indicator
                loadingDiv.remove();

                // Fallback to sample questions if fetching fails
                if (allQuestions.length === 0) {
                    console.warn('Using fallback questions');
                    allQuestions = [
                        {
                            "question": "What is the primary technique used to detect a loop in a Doubly Linked List (DLL)?",
                            "options": {
                                "A": "Using two pointers, one slow and one fast (Floyd's Cycle-Finding Algorithm)",
                                "B": "Marking visited nodes using an extra field",
                                "C": "Using a Hash Set to store visited node addresses",
                                "D": "All of the above"
                            },
                            "correct_answer": "D"
                        },
                        {
                            "question": "What is the time complexity of detecting a loop in a DLL of size 'n' using Floyd's Cycle-Finding Algorithm?",
                            "options": {
                                "A": "O(1)",
                                "B": "O(log n)",
                                "C": "O(n)",
                                "D": "O(n^2)"
                            },
                            "correct_answer": "C"
                        },
                        {
                            "question": "What is the auxiliary space complexity of detecting a loop in a DLL using Floyd's Cycle-Finding Algorithm?",
                            "options": {
                                "A": "O(1)",
                                "B": "O(log n)",
                                "C": "O(n)",
                                "D": "O(n^2)"
                            },
                            "correct_answer": "A"
                        },
                        {
                            "question": "What is the primary characteristic of a bitonic DLL?",
                            "options": {
                                "A": "It contains only even numbers.",
                                "B": "It is first strictly increasing and then strictly decreasing, or vice-versa.",
                                "C": "All nodes are duplicated.",
                                "D": "It forms a cycle."
                            },
                            "correct_answer": "B"
                        },
                        {
                            "question": "What is an efficient time complexity to sort a Bitonic Doubly Linked List of size 'n'?",
                            "options": {
                                "A": "O(n^2)",
                                "B": "O(n log n)",
                                "C": "O(n)",
                                "D": "O(log n)"
                            },
                            "correct_answer": "B"
                        }
                    ];
                }

                return true;
            } catch (error) {
                console.error('Error loading questions:', error);

                // Show error and use fallback questions
                alert('Error loading questions from file. Using sample questions instead.');

                allQuestions = [
                    {
                        "question": "What is the primary technique used to detect a loop in a Doubly Linked List (DLL)?",
                        "options": {
                            "A": "Using two pointers, one slow and one fast (Floyd's Cycle-Finding Algorithm)",
                            "B": "Marking visited nodes using an extra field",
                            "C": "Using a Hash Set to store visited node addresses",
                            "D": "All of the above"
                        },
                        "correct_answer": "D"
                    },
                    {
                        "question": "What is the time complexity of detecting a loop in a DLL of size 'n' using Floyd's Cycle-Finding Algorithm?",
                        "options": {
                            "A": "O(1)",
                            "B": "O(log n)",
                            "C": "O(n)",
                            "D": "O(n^2)"
                        },
                        "correct_answer": "C"
                    },
                    {
                        "question": "What is the auxiliary space complexity of detecting a loop in a DLL using Floyd's Cycle-Finding Algorithm?",
                        "options": {
                            "A": "O(1)",
                            "B": "O(log n)",
                            "C": "O(n)",
                            "D": "O(n^2)"
                        },
                        "correct_answer": "A"
                    },
                    {
                        "question": "What is the primary characteristic of a bitonic DLL?",
                        "options": {
                            "A": "It contains only even numbers.",
                            "B": "It is first strictly increasing and then strictly decreasing, or vice-versa.",
                            "C": "All nodes are duplicated.",
                            "D": "It forms a cycle."
                        },
                        "correct_answer": "B"
                    },
                    {
                        "question": "What is an efficient time complexity to sort a Bitonic Doubly Linked List of size 'n'?",
                        "options": {
                            "A": "O(n^2)",
                            "B": "O(n log n)",
                            "C": "O(n)",
                            "D": "O(log n)"
                        },
                        "correct_answer": "B"
                    }
                ];

                // Remove loading indicator if it exists
                const loadingDiv = document.querySelector('.loading');
                if (loadingDiv) loadingDiv.remove();

                return true;
            }
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Start Mock Exam
        function startMockExam() {
            // Reset state
            currentMockQuestion = 0;
            mockAnswers = [];
            mockCorrectAnswers = 0;

            // Select 30 random questions (or all if less than 30)
            const shuffled = shuffleArray([...allQuestions]);
            mockQuestions = shuffled.slice(0, Math.min(30, shuffled.length));

            // Initialize mock answers array
            mockAnswers = Array(mockQuestions.length).fill(null);

            // Switch to mock exam view
            homeView.style.display = 'none';
            mockExamView.style.display = 'block';

            // Display first question
            displayMockQuestion();
        }

        // Display current mock question
        function displayMockQuestion() {
            const question = mockQuestions[currentMockQuestion];
            mockQuestionNumber.textContent = `Question ${currentMockQuestion + 1}/${mockQuestions.length}`;
            mockQuestionText.textContent = question.question;

            // Update progress bar
            mockProgress.style.width = `${((currentMockQuestion + 1) / mockQuestions.length) * 100}%`;

            // Clear options and feedback
            mockOptions.innerHTML = '';
            mockFeedback.innerHTML = '';
            mockFeedback.className = 'feedback';

            // Add options
            for (const [key, value] of Object.entries(question.options)) {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = `${key}: ${value}`;
                optionElement.dataset.option = key;

                optionElement.addEventListener('click', function () {
                    // Prevent selecting if already answered
                    if (mockAnswers[currentMockQuestion] !== null) return;

                    // Record answer
                    mockAnswers[currentMockQuestion] = key;

                    // Check if correct
                    const isCorrect = key === question.correct_answer;
                    if (isCorrect) mockCorrectAnswers++;

                    // Mark options
                    document.querySelectorAll('#mockOptions .option').forEach(opt => {
                        if (opt.dataset.option === key) {
                            opt.classList.add(isCorrect ? 'correct' : 'incorrect');
                        }
                        if (opt.dataset.option === question.correct_answer && !isCorrect) {
                            opt.classList.add('correct');
                        }
                    });

                    // Show feedback
                    mockFeedback.className = `feedback visible ${isCorrect ? 'correct' : 'incorrect'}`;
                    mockFeedback.textContent = isCorrect ?
                        'Correct! Well done.' :
                        `Incorrect. The correct answer is ${question.correct_answer}.`;
                });

                mockOptions.appendChild(optionElement);
            }

            // Update next button text for last question
            if (currentMockQuestion === mockQuestions.length - 1) {
                mockNextButton.textContent = 'Finish Exam';
            } else {
                mockNextButton.textContent = 'Next Question';
            }
        }

        // Handle mock next button
        function handleMockNext() {
            // If no answer selected, prompt user
            if (mockAnswers[currentMockQuestion] === null) {
                // Automatically select an answer if none selected
                const randomOption = Object.keys(mockQuestions[currentMockQuestion].options)[0];
                document.querySelector(`#mockOptions .option[data-option="${randomOption}"]`).click();
                return;
            }

            // If last question, show results
            if (currentMockQuestion === mockQuestions.length - 1) {
                showResults();
                return;
            }

            // Move to next question
            currentMockQuestion++;
            displayMockQuestion();
        }

        // Show exam results
        function showResults() {
            mockExamView.style.display = 'none';
            resultsView.style.display = 'block';

            const score = Math.round((mockCorrectAnswers / mockQuestions.length) * 100);
            scoreDisplay.textContent = `Your Score: ${score}%`;
            scoreDetails.textContent = `You got ${mockCorrectAnswers} out of ${mockQuestions.length} questions correct.`;
        }

        // Start Practice
        function startPractice() {
            // Reset state
            currentPracticeQuestion = 0;

            // Switch to practice view
            homeView.style.display = 'none';
            practiceView.style.display = 'block';

            // Display first question
            displayPracticeQuestion();
        }

        // Display practice question
        function displayPracticeQuestion() {
            const question = allQuestions[currentPracticeQuestion];
            practiceQuestionNumber.textContent = `Question ${currentPracticeQuestion + 1}/${allQuestions.length}`;
            practiceQuestionText.textContent = question.question;

            // Clear options and feedback
            practiceOptions.innerHTML = '';
            practiceFeedback.innerHTML = '';
            practiceFeedback.className = 'feedback';

            // Reset all options
            for (const [key, value] of Object.entries(question.options)) {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = `${key}: ${value}`;
                optionElement.dataset.option = key;

                optionElement.addEventListener('click', function () {
                    // Clear any previous selections
                    document.querySelectorAll('#practiceOptions .option').forEach(opt => {
                        opt.classList.remove('selected', 'correct', 'incorrect');
                    });

                    // Mark this option
                    const isCorrect = key === question.correct_answer;
                    optionElement.classList.add(isCorrect ? 'correct' : 'incorrect');

                    // If incorrect, highlight the correct answer
                    if (!isCorrect) {
                        document.querySelector(`#practiceOptions .option[data-option="${question.correct_answer}"]`)
                            .classList.add('correct');
                    }

                    // Show feedback
                    practiceFeedback.className = `feedback visible ${isCorrect ? 'correct' : 'incorrect'}`;
                    practiceFeedback.textContent = isCorrect ?
                        'Correct! Well done.' :
                        `Incorrect. The correct answer is ${question.correct_answer}.`;
                });

                practiceOptions.appendChild(optionElement);
            }

            // Update navigation buttons
            practicePrevButton.disabled = currentPracticeQuestion === 0;
            practiceNextButton.disabled = currentPracticeQuestion === allQuestions.length - 1;
        }

        // Handle practice navigation
        function handlePracticePrev() {
            if (currentPracticeQuestion > 0) {
                currentPracticeQuestion--;
                displayPracticeQuestion();
            }
        }

        function handlePracticeNext() {
            if (currentPracticeQuestion < allQuestions.length - 1) {
                currentPracticeQuestion++;
                displayPracticeQuestion();
            }
        }

        // Return to home
        function goToHome() {
            mockExamView.style.display = 'none';
            practiceView.style.display = 'none';
            resultsView.style.display = 'none';
            homeView.style.display = 'block';
        }

        // Initialize
        async function initialize() {
            // Load questions
            const loaded = await loadQuestions();
            if (!loaded) {
                alert('Error loading questions. Please try again later.');
                return;
            }

            // Set up event listeners
            startMockExamButton.addEventListener('click', startMockExam);
            startPracticeButton.addEventListener('click', startPractice);
            mockNextButton.addEventListener('click', handleMockNext);
            practicePrevButton.addEventListener('click', handlePracticePrev);
            practiceNextButton.addEventListener('click', handlePracticeNext);
            retryButton.addEventListener('click', startMockExam);
            homeButton.addEventListener('click', goToHome);
            homeFromResultsButton.addEventListener('click', goToHome);
        }

        // Start the app
        initialize();
    </script>
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
</body>

</html>
